<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>An Introduction to Statistical and Data Sciences via R</title>
  <meta name="description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses.">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="An Introduction to Statistical and Data Sciences via R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://moderndive.com/" />
  <meta property="og:image" content="http://moderndive.com/images/logos/book_cover.png" />
  <meta property="og:description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses." />
  <meta name="github-repo" content="ismayc/moderndiver-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="An Introduction to Statistical and Data Sciences via R" />
  
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic textbook bridging the gap between traditional introductory statistics and data science courses." />
  <meta name="twitter:image" content="http://moderndive.com/images/logos/book_cover.png" />

<meta name="author" content="Chester Ismay and Albert Y. Kim">


<meta name="date" content="2017-10-24">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="5-wrangling.html">
<link rel="next" href="A-appendixA.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-0.9/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.4/dygraphs.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#intro-for-students"><i class="fa fa-check"></i><b>1.1</b> Introduction for students</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#learning-goals"><i class="fa fa-check"></i><b>1.1.1</b> What you will learn from this book</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#pipeline"><i class="fa fa-check"></i><b>1.1.2</b> Data/science pipeline</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#reproducible"><i class="fa fa-check"></i><b>1.1.3</b> Reproducible research</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#final-note-for-students"><i class="fa fa-check"></i><b>1.1.4</b> Final note for students</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#intro-instructors"><i class="fa fa-check"></i><b>1.2</b> Introduction for instructors</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#who-is-this-book-for"><i class="fa fa-check"></i><b>1.2.1</b> Who is this book for?</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#connect-contribute"><i class="fa fa-check"></i><b>1.3</b> Connect and contribute</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#about-book"><i class="fa fa-check"></i><b>1.4</b> About this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-getting-started.html"><a href="2-getting-started.html"><i class="fa fa-check"></i><b>2</b> Getting Started</a><ul>
<li class="chapter" data-level="2.1" data-path="2-getting-started.html"><a href="2-getting-started.html#what-are-r-and-rstudio"><i class="fa fa-check"></i><b>2.1</b> What are R and RStudio?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-getting-started.html"><a href="2-getting-started.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-getting-started.html"><a href="2-getting-started.html#using-r-via-rstudio"><i class="fa fa-check"></i><b>2.1.2</b> Using R via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-getting-started.html"><a href="2-getting-started.html#code"><i class="fa fa-check"></i><b>2.2</b> How do I code in R?</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-getting-started.html"><a href="2-getting-started.html#programming-concepts"><i class="fa fa-check"></i><b>2.2.1</b> Basic programming concepts needed</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-getting-started.html"><a href="2-getting-started.html#tips-on-learning-to-code"><i class="fa fa-check"></i><b>2.2.2</b> Tips on learning to code</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-getting-started.html"><a href="2-getting-started.html#packages"><i class="fa fa-check"></i><b>2.3</b> What are R packages?</a><ul>
<li class="chapter" data-level="2.3.1" data-path="2-getting-started.html"><a href="2-getting-started.html#package-installation"><i class="fa fa-check"></i><b>2.3.1</b> Package installation</a></li>
<li class="chapter" data-level="2.3.2" data-path="2-getting-started.html"><a href="2-getting-started.html#package-loading"><i class="fa fa-check"></i><b>2.3.2</b> Package loading</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2-getting-started.html"><a href="2-getting-started.html#nycflights13"><i class="fa fa-check"></i><b>2.4</b> Putting it all together</a><ul>
<li class="chapter" data-level="2.4.1" data-path="2-getting-started.html"><a href="2-getting-started.html#nycflights13-package"><i class="fa fa-check"></i><b>2.4.1</b> nycflights13 package</a></li>
<li class="chapter" data-level="2.4.2" data-path="2-getting-started.html"><a href="2-getting-started.html#flights-data-frame"><i class="fa fa-check"></i><b>2.4.2</b> flights data frame</a></li>
<li class="chapter" data-level="2.4.3" data-path="2-getting-started.html"><a href="2-getting-started.html#explore-dataframes"><i class="fa fa-check"></i><b>2.4.3</b> Exploring data frames</a></li>
<li class="chapter" data-level="2.4.4" data-path="2-getting-started.html"><a href="2-getting-started.html#help-files"><i class="fa fa-check"></i><b>2.4.4</b> Help files</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2-getting-started.html"><a href="2-getting-started.html#conclusion"><i class="fa fa-check"></i><b>2.5</b> Conclusion</a><ul>
<li class="chapter" data-level="2.5.1" data-path="2-getting-started.html"><a href="2-getting-started.html#whats-to-come"><i class="fa fa-check"></i><b>2.5.1</b> What’s to come?</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>I Data Exploration via the tidyverse</b></span></li>
<li class="chapter" data-level="3" data-path="3-viz.html"><a href="3-viz.html"><i class="fa fa-check"></i><b>3</b> Data Visualization via ggplot2</a><ul>
<li class="chapter" data-level="" data-path="3-viz.html"><a href="3-viz.html#needed-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="3.1" data-path="3-viz.html"><a href="3-viz.html#grammarofgraphics"><i class="fa fa-check"></i><b>3.1</b> The Grammar of Graphics</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-viz.html"><a href="3-viz.html#components-of-the-grammar"><i class="fa fa-check"></i><b>3.1.1</b> Components of the Grammar</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-viz.html"><a href="3-viz.html#gapminder"><i class="fa fa-check"></i><b>3.1.2</b> Gapminder</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-viz.html"><a href="3-viz.html#other-components-of-the-grammar"><i class="fa fa-check"></i><b>3.1.3</b> Other components of the Grammar</a></li>
<li class="chapter" data-level="3.1.4" data-path="3-viz.html"><a href="3-viz.html#the-ggplot2-package"><i class="fa fa-check"></i><b>3.1.4</b> The ggplot2 package</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-viz.html"><a href="3-viz.html#FiveNG"><i class="fa fa-check"></i><b>3.2</b> Five Named Graphs - The 5NG</a></li>
<li class="chapter" data-level="3.3" data-path="3-viz.html"><a href="3-viz.html#scatterplots"><i class="fa fa-check"></i><b>3.3</b> 5NG#1: Scatterplots</a><ul>
<li class="chapter" data-level="3.3.1" data-path="3-viz.html"><a href="3-viz.html#geompoint"><i class="fa fa-check"></i><b>3.3.1</b> Scatterplots via geom_point</a></li>
<li class="chapter" data-level="3.3.2" data-path="3-viz.html"><a href="3-viz.html#over-plotting"><i class="fa fa-check"></i><b>3.3.2</b> Over-plotting</a></li>
<li class="chapter" data-level="3.3.3" data-path="3-viz.html"><a href="3-viz.html#summary"><i class="fa fa-check"></i><b>3.3.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="3-viz.html"><a href="3-viz.html#linegraphs"><i class="fa fa-check"></i><b>3.4</b> 5NG#2: Linegraphs</a><ul>
<li class="chapter" data-level="3.4.1" data-path="3-viz.html"><a href="3-viz.html#geomline"><i class="fa fa-check"></i><b>3.4.1</b> Linegraphs via geom_line</a></li>
<li class="chapter" data-level="3.4.2" data-path="3-viz.html"><a href="3-viz.html#summary-1"><i class="fa fa-check"></i><b>3.4.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="3-viz.html"><a href="3-viz.html#histograms"><i class="fa fa-check"></i><b>3.5</b> 5NG#3: Histograms</a><ul>
<li class="chapter" data-level="3.5.1" data-path="3-viz.html"><a href="3-viz.html#geomhistogram"><i class="fa fa-check"></i><b>3.5.1</b> Histograms via geom_histogram</a></li>
<li class="chapter" data-level="3.5.2" data-path="3-viz.html"><a href="3-viz.html#adjustbins"><i class="fa fa-check"></i><b>3.5.2</b> Adjusting the bins</a></li>
<li class="chapter" data-level="3.5.3" data-path="3-viz.html"><a href="3-viz.html#summary-2"><i class="fa fa-check"></i><b>3.5.3</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="3-viz.html"><a href="3-viz.html#facets"><i class="fa fa-check"></i><b>3.6</b> Facets</a></li>
<li class="chapter" data-level="3.7" data-path="3-viz.html"><a href="3-viz.html#boxplots"><i class="fa fa-check"></i><b>3.7</b> 5NG#4: Boxplots</a><ul>
<li class="chapter" data-level="3.7.1" data-path="3-viz.html"><a href="3-viz.html#geomboxplot"><i class="fa fa-check"></i><b>3.7.1</b> Boxplots via geom_boxplot</a></li>
<li class="chapter" data-level="3.7.2" data-path="3-viz.html"><a href="3-viz.html#summary-3"><i class="fa fa-check"></i><b>3.7.2</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3-viz.html"><a href="3-viz.html#geombar"><i class="fa fa-check"></i><b>3.8</b> 5NG#5: Barplots</a><ul>
<li class="chapter" data-level="3.8.1" data-path="3-viz.html"><a href="3-viz.html#barplots-via-geom_bargeom_col"><i class="fa fa-check"></i><b>3.8.1</b> Barplots via geom_bar/geom_col</a></li>
<li class="chapter" data-level="3.8.2" data-path="3-viz.html"><a href="3-viz.html#must-avoid-pie-charts"><i class="fa fa-check"></i><b>3.8.2</b> Must avoid pie charts!</a></li>
<li class="chapter" data-level="3.8.3" data-path="3-viz.html"><a href="3-viz.html#using-barplots-to-compare-two-categorical-variables"><i class="fa fa-check"></i><b>3.8.3</b> Using barplots to compare two categorical variables</a></li>
<li class="chapter" data-level="3.8.4" data-path="3-viz.html"><a href="3-viz.html#summary-4"><i class="fa fa-check"></i><b>3.8.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="3-viz.html"><a href="3-viz.html#conclusion-1"><i class="fa fa-check"></i><b>3.9</b> Conclusion</a><ul>
<li class="chapter" data-level="3.9.1" data-path="3-viz.html"><a href="3-viz.html#review-questions"><i class="fa fa-check"></i><b>3.9.1</b> Review questions</a></li>
<li class="chapter" data-level="3.9.2" data-path="3-viz.html"><a href="3-viz.html#whats-to-come-1"><i class="fa fa-check"></i><b>3.9.2</b> What’s to come?</a></li>
<li class="chapter" data-level="3.9.3" data-path="3-viz.html"><a href="3-viz.html#resources"><i class="fa fa-check"></i><b>3.9.3</b> Resources</a></li>
<li class="chapter" data-level="3.9.4" data-path="3-viz.html"><a href="3-viz.html#script-of-r-code"><i class="fa fa-check"></i><b>3.9.4</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-tidy.html"><a href="4-tidy.html"><i class="fa fa-check"></i><b>4</b> Data Tidying via tidyr</a><ul>
<li class="chapter" data-level="" data-path="4-tidy.html"><a href="4-tidy.html#needed-packages-1"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="4.1" data-path="4-tidy.html"><a href="4-tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>4.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="4.2" data-path="4-tidy.html"><a href="4-tidy.html#importing-csvs-via-readr"><i class="fa fa-check"></i><b>4.2</b> Importing CSVs via readr</a></li>
<li class="chapter" data-level="4.3" data-path="4-tidy.html"><a href="4-tidy.html#tidying"><i class="fa fa-check"></i><b>4.3</b> Converting from wide to long</a></li>
<li class="chapter" data-level="4.4" data-path="4-tidy.html"><a href="4-tidy.html#back-to-nycflights"><i class="fa fa-check"></i><b>4.4</b> Back to nycflights</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-tidy.html"><a href="4-tidy.html#observational-units"><i class="fa fa-check"></i><b>4.4.1</b> Observational units</a></li>
<li class="chapter" data-level="4.4.2" data-path="4-tidy.html"><a href="4-tidy.html#identification-vs-measurement-variables"><i class="fa fa-check"></i><b>4.4.2</b> Identification vs measurement variables</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-tidy.html"><a href="4-tidy.html#optional-normal-forms-of-data"><i class="fa fa-check"></i><b>4.5</b> Optional: Normal forms of data</a></li>
<li class="chapter" data-level="4.6" data-path="4-tidy.html"><a href="4-tidy.html#conclusion-2"><i class="fa fa-check"></i><b>4.6</b> Conclusion</a><ul>
<li class="chapter" data-level="4.6.1" data-path="4-tidy.html"><a href="4-tidy.html#review-questions-1"><i class="fa fa-check"></i><b>4.6.1</b> Review questions</a></li>
<li class="chapter" data-level="4.6.2" data-path="4-tidy.html"><a href="4-tidy.html#whats-to-come-2"><i class="fa fa-check"></i><b>4.6.2</b> What’s to come?</a></li>
<li class="chapter" data-level="4.6.3" data-path="4-tidy.html"><a href="4-tidy.html#script-of-r-code-1"><i class="fa fa-check"></i><b>4.6.3</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-wrangling.html"><a href="5-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data Wrangling via dplyr</a><ul>
<li class="chapter" data-level="" data-path="5-wrangling.html"><a href="5-wrangling.html#needed-packages-2"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="5.1" data-path="5-wrangling.html"><a href="5-wrangling.html#the-pipe"><i class="fa fa-check"></i><b>5.1</b> The pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="5.2" data-path="5-wrangling.html"><a href="5-wrangling.html#five-main-verbs---the-5mv"><i class="fa fa-check"></i><b>5.2</b> Five Main Verbs - The 5MV</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-wrangling.html"><a href="5-wrangling.html#filter"><i class="fa fa-check"></i><b>5.2.1</b> 5MV#1: Filter observations using filter</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-wrangling.html"><a href="5-wrangling.html#mv2-summarize-variables-using-summarize"><i class="fa fa-check"></i><b>5.2.2</b> 5MV#2: Summarize variables using summarize</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-wrangling.html"><a href="5-wrangling.html#groupby"><i class="fa fa-check"></i><b>5.2.3</b> 5MV#3: Group rows using group_by</a></li>
<li class="chapter" data-level="5.2.4" data-path="5-wrangling.html"><a href="5-wrangling.html#mv4-create-new-variableschange-old-variables-using-mutate"><i class="fa fa-check"></i><b>5.2.4</b> 5MV#4: Create new variables/change old variables using mutate</a></li>
<li class="chapter" data-level="5.2.5" data-path="5-wrangling.html"><a href="5-wrangling.html#arrange"><i class="fa fa-check"></i><b>5.2.5</b> 5MV#5: Reorder the data frame using arrange</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-wrangling.html"><a href="5-wrangling.html#joins"><i class="fa fa-check"></i><b>5.3</b> Joining data frames</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-wrangling.html"><a href="5-wrangling.html#joining-by-key-variables"><i class="fa fa-check"></i><b>5.3.1</b> Joining by key variables</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-wrangling.html"><a href="5-wrangling.html#joining-by-key-variables-with-different-names"><i class="fa fa-check"></i><b>5.3.2</b> Joining by key variables with different names</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-wrangling.html"><a href="5-wrangling.html#other-verbs"><i class="fa fa-check"></i><b>5.4</b> Optional: Other verbs</a><ul>
<li class="chapter" data-level="5.4.1" data-path="5-wrangling.html"><a href="5-wrangling.html#select"><i class="fa fa-check"></i><b>5.4.1</b> Select variables using select</a></li>
<li class="chapter" data-level="5.4.2" data-path="5-wrangling.html"><a href="5-wrangling.html#rename"><i class="fa fa-check"></i><b>5.4.2</b> Rename variables using rename</a></li>
<li class="chapter" data-level="5.4.3" data-path="5-wrangling.html"><a href="5-wrangling.html#find-the-top-number-of-values-using-top_n"><i class="fa fa-check"></i><b>5.4.3</b> Find the top number of values using top_n</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="5-wrangling.html"><a href="5-wrangling.html#conclusion-3"><i class="fa fa-check"></i><b>5.5</b> Conclusion</a><ul>
<li class="chapter" data-level="5.5.1" data-path="5-wrangling.html"><a href="5-wrangling.html#review-questions-2"><i class="fa fa-check"></i><b>5.5.1</b> Review questions</a></li>
<li class="chapter" data-level="5.5.2" data-path="5-wrangling.html"><a href="5-wrangling.html#whats-to-come-3"><i class="fa fa-check"></i><b>5.5.2</b> What’s to come?</a></li>
<li class="chapter" data-level="5.5.3" data-path="5-wrangling.html"><a href="5-wrangling.html#resources-1"><i class="fa fa-check"></i><b>5.5.3</b> Resources</a></li>
<li class="chapter" data-level="5.5.4" data-path="5-wrangling.html"><a href="5-wrangling.html#script-of-r-code-2"><i class="fa fa-check"></i><b>5.5.4</b> Script of R code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-regression.html"><a href="6-regression.html"><i class="fa fa-check"></i><b>6</b> Data Modeling with Regression</a><ul>
<li class="chapter" data-level="" data-path="6-regression.html"><a href="6-regression.html#needed-packages-3"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="6.1" data-path="6-regression.html"><a href="6-regression.html#datasets"><i class="fa fa-check"></i><b>6.1</b> Datasets</a><ul>
<li class="chapter" data-level="6.1.1" data-path="6-regression.html"><a href="6-regression.html#professor-evaluations"><i class="fa fa-check"></i><b>6.1.1</b> Professor evaluations</a></li>
<li class="chapter" data-level="6.1.2" data-path="6-regression.html"><a href="6-regression.html#datalifeexp"><i class="fa fa-check"></i><b>6.1.2</b> Country-by-country life expectancies in 2007</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="6-regression.html"><a href="6-regression.html#one-numerical-x-professor-evaluations"><i class="fa fa-check"></i><b>6.2</b> One numerical x: Professor evaluations</a><ul>
<li class="chapter" data-level="6.2.1" data-path="6-regression.html"><a href="6-regression.html#exploratory-data-analysis"><i class="fa fa-check"></i><b>6.2.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.2.2" data-path="6-regression.html"><a href="6-regression.html#correlation-coefficient"><i class="fa fa-check"></i><b>6.2.2</b> Correlation coefficient</a></li>
<li class="chapter" data-level="6.2.3" data-path="6-regression.html"><a href="6-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>6.2.3</b> Simple linear regression</a></li>
<li class="chapter" data-level="6.2.4" data-path="6-regression.html"><a href="6-regression.html#observed-values-fitted-values-and-residuals"><i class="fa fa-check"></i><b>6.2.4</b> Observed values, fitted values, and residuals</a></li>
<li class="chapter" data-level="6.2.5" data-path="6-regression.html"><a href="6-regression.html#residual_analysis"><i class="fa fa-check"></i><b>6.2.5</b> Residual analysis</a></li>
<li class="chapter" data-level="6.2.6" data-path="6-regression.html"><a href="6-regression.html#best-fitting-lines"><i class="fa fa-check"></i><b>6.2.6</b> Best fitting lines</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="6-regression.html"><a href="6-regression.html#one-categorical-x-professor-evaluations"><i class="fa fa-check"></i><b>6.3</b> One categorical x: Professor evaluations</a><ul>
<li class="chapter" data-level="6.3.1" data-path="6-regression.html"><a href="6-regression.html#exploratory-data-analysis-1"><i class="fa fa-check"></i><b>6.3.1</b> Exploratory data analysis</a></li>
<li class="chapter" data-level="6.3.2" data-path="6-regression.html"><a href="6-regression.html#simple-linear-regression-1"><i class="fa fa-check"></i><b>6.3.2</b> Simple linear regression</a></li>
<li class="chapter" data-level="6.3.3" data-path="6-regression.html"><a href="6-regression.html#observed-values-fitted-values-and-residuals-1"><i class="fa fa-check"></i><b>6.3.3</b> Observed values, fitted values, and residuals</a></li>
<li class="chapter" data-level="6.3.4" data-path="6-regression.html"><a href="6-regression.html#residual-analysis"><i class="fa fa-check"></i><b>6.3.4</b> Residual analysis</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="A-appendixA.html"><a href="A-appendixA.html"><i class="fa fa-check"></i><b>A</b> Statistical Background</a><ul>
<li class="chapter" data-level="A.1" data-path="A-appendixA.html"><a href="A-appendixA.html#basic-statistical-terms"><i class="fa fa-check"></i><b>A.1</b> Basic statistical terms</a><ul>
<li class="chapter" data-level="A.1.1" data-path="A-appendixA.html"><a href="A-appendixA.html#mean"><i class="fa fa-check"></i><b>A.1.1</b> Mean</a></li>
<li class="chapter" data-level="A.1.2" data-path="A-appendixA.html"><a href="A-appendixA.html#median"><i class="fa fa-check"></i><b>A.1.2</b> Median</a></li>
<li class="chapter" data-level="A.1.3" data-path="A-appendixA.html"><a href="A-appendixA.html#standard-deviation"><i class="fa fa-check"></i><b>A.1.3</b> Standard deviation</a></li>
<li class="chapter" data-level="A.1.4" data-path="A-appendixA.html"><a href="A-appendixA.html#five-number-summary"><i class="fa fa-check"></i><b>A.1.4</b> Five-number summary</a></li>
<li class="chapter" data-level="A.1.5" data-path="A-appendixA.html"><a href="A-appendixA.html#distribution"><i class="fa fa-check"></i><b>A.1.5</b> Distribution</a></li>
<li class="chapter" data-level="A.1.6" data-path="A-appendixA.html"><a href="A-appendixA.html#outliers"><i class="fa fa-check"></i><b>A.1.6</b> Outliers</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="B" data-path="B-appendixB.html"><a href="B-appendixB.html"><i class="fa fa-check"></i><b>B</b> Inference Examples</a><ul>
<li class="chapter" data-level="" data-path="B-appendixB.html"><a href="B-appendixB.html#needed-packages-4"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="B.1" data-path="B-appendixB.html"><a href="B-appendixB.html#inference-mind-map"><i class="fa fa-check"></i><b>B.1</b> Inference mind map</a></li>
<li class="chapter" data-level="B.2" data-path="B-appendixB.html"><a href="B-appendixB.html#one-mean"><i class="fa fa-check"></i><b>B.2</b> One mean</a><ul>
<li class="chapter" data-level="B.2.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement"><i class="fa fa-check"></i><b>B.2.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.2.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses"><i class="fa fa-check"></i><b>B.2.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.2.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data"><i class="fa fa-check"></i><b>B.2.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.2.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods"><i class="fa fa-check"></i><b>B.2.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.2.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods"><i class="fa fa-check"></i><b>B.2.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.2.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results"><i class="fa fa-check"></i><b>B.2.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="B-appendixB.html"><a href="B-appendixB.html#one-proportion"><i class="fa fa-check"></i><b>B.3</b> One proportion</a><ul>
<li class="chapter" data-level="B.3.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-1"><i class="fa fa-check"></i><b>B.3.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.3.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-1"><i class="fa fa-check"></i><b>B.3.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.3.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-1"><i class="fa fa-check"></i><b>B.3.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.3.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-1"><i class="fa fa-check"></i><b>B.3.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.3.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-1"><i class="fa fa-check"></i><b>B.3.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.3.6" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-1"><i class="fa fa-check"></i><b>B.3.6</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="B-appendixB.html"><a href="B-appendixB.html#two-proportions"><i class="fa fa-check"></i><b>B.4</b> Two proportions</a><ul>
<li class="chapter" data-level="B.4.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-2"><i class="fa fa-check"></i><b>B.4.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.4.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-2"><i class="fa fa-check"></i><b>B.4.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.4.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-2"><i class="fa fa-check"></i><b>B.4.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.4.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-2"><i class="fa fa-check"></i><b>B.4.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.4.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-2"><i class="fa fa-check"></i><b>B.4.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.4.6" data-path="B-appendixB.html"><a href="B-appendixB.html#check-conditions-2"><i class="fa fa-check"></i><b>B.4.6</b> Check conditions</a></li>
<li class="chapter" data-level="B.4.7" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-2"><i class="fa fa-check"></i><b>B.4.7</b> Test statistic</a></li>
<li class="chapter" data-level="B.4.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-2"><i class="fa fa-check"></i><b>B.4.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.4.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-2"><i class="fa fa-check"></i><b>B.4.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-independent-samples"><i class="fa fa-check"></i><b>B.5</b> Two means (independent samples)</a><ul>
<li class="chapter" data-level="B.5.1" data-path="B-appendixB.html"><a href="B-appendixB.html#problem-statement-3"><i class="fa fa-check"></i><b>B.5.1</b> Problem statement</a></li>
<li class="chapter" data-level="B.5.2" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-3"><i class="fa fa-check"></i><b>B.5.2</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.5.3" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-3"><i class="fa fa-check"></i><b>B.5.3</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.5.4" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-3"><i class="fa fa-check"></i><b>B.5.4</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.5.5" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-3"><i class="fa fa-check"></i><b>B.5.5</b> Traditional methods</a></li>
<li class="chapter" data-level="B.5.6" data-path="B-appendixB.html"><a href="B-appendixB.html#test-statistic-3"><i class="fa fa-check"></i><b>B.5.6</b> Test statistic</a></li>
<li class="chapter" data-level="B.5.7" data-path="B-appendixB.html"><a href="B-appendixB.html#compute-p-value-2"><i class="fa fa-check"></i><b>B.5.7</b> Compute <span class="math inline">\(p\)</span>-value</a></li>
<li class="chapter" data-level="B.5.8" data-path="B-appendixB.html"><a href="B-appendixB.html#state-conclusion-3"><i class="fa fa-check"></i><b>B.5.8</b> State conclusion</a></li>
<li class="chapter" data-level="B.5.9" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-3"><i class="fa fa-check"></i><b>B.5.9</b> Comparing results</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="B-appendixB.html"><a href="B-appendixB.html#two-means-paired-samples"><i class="fa fa-check"></i><b>B.6</b> Two means (paired samples)</a><ul>
<li class="chapter" data-level="B.6.1" data-path="B-appendixB.html"><a href="B-appendixB.html#competing-hypotheses-4"><i class="fa fa-check"></i><b>B.6.1</b> Competing hypotheses</a></li>
<li class="chapter" data-level="B.6.2" data-path="B-appendixB.html"><a href="B-appendixB.html#exploring-the-sample-data-4"><i class="fa fa-check"></i><b>B.6.2</b> Exploring the sample data</a></li>
<li class="chapter" data-level="B.6.3" data-path="B-appendixB.html"><a href="B-appendixB.html#non-traditional-methods-4"><i class="fa fa-check"></i><b>B.6.3</b> Non-traditional methods</a></li>
<li class="chapter" data-level="B.6.4" data-path="B-appendixB.html"><a href="B-appendixB.html#traditional-methods-4"><i class="fa fa-check"></i><b>B.6.4</b> Traditional methods</a></li>
<li class="chapter" data-level="B.6.5" data-path="B-appendixB.html"><a href="B-appendixB.html#comparing-results-4"><i class="fa fa-check"></i><b>B.6.5</b> Comparing results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="C-appendixC.html"><a href="C-appendixC.html"><i class="fa fa-check"></i><b>C</b> Reach for the Stars</a><ul>
<li class="chapter" data-level="" data-path="C-appendixC.html"><a href="C-appendixC.html#needed-packages-5"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="C.1" data-path="C-appendixC.html"><a href="C-appendixC.html#sorted-barplots"><i class="fa fa-check"></i><b>C.1</b> Sorted barplots</a></li>
<li class="chapter" data-level="C.2" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-graphics"><i class="fa fa-check"></i><b>C.2</b> Interactive graphics</a><ul>
<li class="chapter" data-level="C.2.1" data-path="C-appendixC.html"><a href="C-appendixC.html#interactive-linegraphs"><i class="fa fa-check"></i><b>C.2.1</b> Interactive linegraphs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to Statistical and Data Sciences via R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='http://moderndive.com/images/logos/wide_format.png' alt="ModernDive">
</html>
<div id="regression" class="section level1">
<h1><span class="header-section-number">6</span> Data Modeling with Regression</h1>
<p>Now that we are equipped with data visualization skills from Chapter <a href="3-viz.html#viz">3</a>, data wrangling skills from Chapter <a href="5-wrangling.html#wrangling">5</a>, and an understanding of the “tidy” data format from Chapter <a href="4-tidy.html#tidy">4</a>, we now proceed to discuss once of the most commonly used statistical procedures: <em>regression</em>. Much as we saw with the Grammar of Graphics in Chapter <a href="3-viz.html#viz">3</a>, the fundamental premise of (simple linear) regression is to <em>model</em> the relationship between</p>
<ul>
<li>An outcome/dependent/predicted variable <span class="math inline">\(y\)</span></li>
<li>As a function of a covariate/independent/predictor variable <span class="math inline">\(x\)</span></li>
</ul>
<p>Why do we have multiple labels for the same concept? What’s their root? Regression, in its simplest form, can be viewed in two ways:</p>
<ol style="list-style-type: decimal">
<li><strong>For Prediction</strong>: You want to predict an outcome variable <span class="math inline">\(y\)</span> based on the information contained in a set of predictor variables. You don’t care so much about understanding how all the variables relate and interact, but so long as you can make good predictions about <span class="math inline">\(y\)</span>, you’re fine.</li>
<li><strong>For Explanation</strong>: You want to study the relationship between an outcome variable <span class="math inline">\(y\)</span> and a set of explanatory variables, determine the significance of any found relationships, and have measures summarizing these.</li>
</ol>
<p>In this chapter, we use the <code>flights</code> data frame in the <code>nycflights13</code> package to look at the relationship between departure delay, arrival delay, and other variables related to flights. We will also discuss the concept of <em>correlation</em> and how it is frequently incorrectly implied to also lead to <em>causation</em>. This chapter also introduces the <code>broom</code> package, which is a useful tool for summarizing the results of regression fits in “tidy” format.</p>
<div id="needed-packages-3" class="section level3 unnumbered">
<h3>Needed packages</h3>
<p>Let’s load all the packages needed for this chapter (this assumes you’ve already installed them). If needed, read Section <a href="2-getting-started.html#packages">2.3</a> for information on how to install and load R packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(nycflights13)
<span class="kw">library</span>(ggplot2)
<span class="kw">library</span>(dplyr)
<span class="kw">library</span>(broom)</code></pre></div>
</div>
<div id="datasets" class="section level2">
<h2><span class="header-section-number">6.1</span> Datasets</h2>
<div id="professor-evaluations" class="section level3">
<h3><span class="header-section-number">6.1.1</span> Professor evaluations</h3>
<p>A study conducted at the University of Texas in Austin available at <a href="https://www.openintro.org/stat/data/?data=evals">openintro.org</a> investigated associations between teacher evalutions and various attributes of the instructor.</p>
<ul>
<li><strong>Question</strong>: Can we explain a professor’s teaching evaluation score using these attritubes?</li>
<li>Outcome variable <span class="math inline">\(y\)</span>: Average teaching score, based on students evaluations between 1 and 5</li>
<li>Explanatory variables <span class="math inline">\(x\)</span>
<ul>
<li>their rank: teaching, tenure track, or tenured</li>
<li>their ethnicity: minority or non-minority</li>
<li>their (binary) gender: male or female</li>
<li>their language: whether or not english was their mother tongue</li>
<li>their age:</li>
<li>their average “beauty” rating, based on a panel of 6 students’ scores between 1 and 10.</li>
</ul></li>
</ul>
<p>First let’s load the data and look at a random sample of 5 rows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load</span>(<span class="kw">url</span>(<span class="st">&quot;http://www.openintro.org/stat/data/evals.RData&quot;</span>))
evals &lt;-<span class="st"> </span>evals <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">select</span>(score, ethnicity, gender, language, age, bty_avg, rank)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-140">Table 6.1: </span>Random sample of 5 instructors</caption>
<thead>
<tr class="header">
<th></th>
<th align="right">score</th>
<th align="left">ethnicity</th>
<th align="left">gender</th>
<th align="left">language</th>
<th align="right">age</th>
<th align="right">bty_avg</th>
<th align="left">rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>379</td>
<td align="right">3.9</td>
<td align="left">not minority</td>
<td align="left">female</td>
<td align="left">english</td>
<td align="right">38</td>
<td align="right">2.50</td>
<td align="left">teaching</td>
</tr>
<tr class="even">
<td>54</td>
<td align="right">5.0</td>
<td align="left">not minority</td>
<td align="left">male</td>
<td align="left">english</td>
<td align="right">47</td>
<td align="right">5.50</td>
<td align="left">teaching</td>
</tr>
<tr class="odd">
<td>401</td>
<td align="right">3.4</td>
<td align="left">not minority</td>
<td align="left">male</td>
<td align="left">english</td>
<td align="right">57</td>
<td align="right">2.83</td>
<td align="left">tenured</td>
</tr>
<tr class="even">
<td>278</td>
<td align="right">4.8</td>
<td align="left">not minority</td>
<td align="left">female</td>
<td align="left">english</td>
<td align="right">38</td>
<td align="right">6.50</td>
<td align="left">tenured</td>
</tr>
<tr class="odd">
<td>228</td>
<td align="right">4.7</td>
<td align="left">not minority</td>
<td align="left">female</td>
<td align="left">english</td>
<td align="right">39</td>
<td align="right">8.17</td>
<td align="left">teaching</td>
</tr>
</tbody>
</table>
</div>
<div id="datalifeexp" class="section level3">
<h3><span class="header-section-number">6.1.2</span> Country-by-country life expectancies in 2007</h3>
<p>The <code>gapminder</code> package contains the <code>gapminder</code> data frame, which contains development data about various countries for 5-year intervals between 1952 and 2007</p>
<ul>
<li><strong>Question</strong>: What variables are associated with life expectancy for all countries in 2007? In other words, can we identify variables that can explain variation in life expectancy between countries.</li>
<li>Outcome variable <span class="math inline">\(y\)</span>: Mean life expectancy</li>
<li>Explanatory variables <span class="math inline">\(x\)</span>
<ul>
<li>continent</li>
<li>GDP per capita</li>
</ul></li>
</ul>
<p>First let’s load the data and look at a random sample of 5 rows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(gapminder)
gapminder2007 &lt;-<span class="st"> </span>gapminder <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> </span><span class="dv">2007</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(country, lifeExp, continent, gdpPercap)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">lifeExp</th>
<th align="left">continent</th>
<th align="right">gdpPercap</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Angola</td>
<td align="right">42.7</td>
<td align="left">Africa</td>
<td align="right">4797</td>
</tr>
<tr class="even">
<td align="left">Iraq</td>
<td align="right">59.5</td>
<td align="left">Asia</td>
<td align="right">4471</td>
</tr>
<tr class="odd">
<td align="left">Lebanon</td>
<td align="right">72.0</td>
<td align="left">Asia</td>
<td align="right">10461</td>
</tr>
<tr class="even">
<td align="left">Togo</td>
<td align="right">58.4</td>
<td align="left">Africa</td>
<td align="right">883</td>
</tr>
<tr class="odd">
<td align="left">Portugal</td>
<td align="right">78.1</td>
<td align="left">Europe</td>
<td align="right">20510</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="one-numerical-x-professor-evaluations" class="section level2">
<h2><span class="header-section-number">6.2</span> One numerical x: Professor evaluations</h2>
<div id="exploratory-data-analysis" class="section level3">
<h3><span class="header-section-number">6.2.1</span> Exploratory data analysis</h3>
<p>Let’s</p>
<ul>
<li>Model the outcome variable y: teacher evaluation score</li>
<li>Using explanatory variable x: beauty score</li>
</ul>
<p>Let’s plot the data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(evals, <span class="kw">aes</span>(<span class="dt">x=</span>bty_avg, <span class="dt">y=</span>score)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Beauty Score&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Teaching Score&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:numxplot1"></span>
<img src="ismaykim_files/figure-html/numxplot1-1.png" alt="Teacher evaluation scores at UT Austin" width="\textwidth" />
<p class="caption">
Figure 6.1: Teacher evaluation scores at UT Austin
</p>
</div>
<p>The above suffers from <em>overplotting</em>; let’s break it up with a little random jitter added to the points. Note, we are only altering the visualization of the points; the original data is the same.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(evals, <span class="kw">aes</span>(<span class="dt">x=</span>bty_avg, <span class="dt">y=</span>score)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_jitter</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Beauty Score&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Teaching Score&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:numxplot2"></span>
<img src="ismaykim_files/figure-html/numxplot2-1.png" alt="Teacher evaluation scores at UT Austin: Jittered" width="\textwidth" />
<p class="caption">
Figure 6.2: Teacher evaluation scores at UT Austin: Jittered
</p>
</div>
</div>
<div id="correlation-coefficient" class="section level3">
<h3><span class="header-section-number">6.2.2</span> Correlation coefficient</h3>
<p>The correlation coefficient between teacher evaluation score and beauty score is high:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cor</span>(evals<span class="op">$</span>score, evals<span class="op">$</span>bty_avg)</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">correlation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.187</td>
</tr>
</tbody>
</table>
</div>
<div id="simple-linear-regression" class="section level3">
<h3><span class="header-section-number">6.2.3</span> Simple linear regression</h3>
<p>Let’s</p>
<ul>
<li>Fit a simple linear regression using the command <code>lm(y ~ x, data)</code> below:</li>
<li>Output the table in tidy data format using the <code>tidy()</code> function from the <code>broom</code> package.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(score<span class="op">~</span>bty_avg, <span class="dt">data=</span>evals) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">tidy</span>()</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-146">Table 6.2: </span>Regression line estimates</caption>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">3.880</td>
<td align="right">0.076</td>
<td align="right">50.96</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">bty_avg</td>
<td align="right">0.067</td>
<td align="right">0.016</td>
<td align="right">4.09</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>Let’s plot the regression line with a new layer called <code>+ geom_smooth(method=&quot;lm&quot;)</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(evals, <span class="kw">aes</span>(<span class="dt">x=</span>bty_avg, <span class="dt">y=</span>score)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Beauty Score&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Teaching Score&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:numxplot3"></span>
<img src="ismaykim_files/figure-html/numxplot3-1.png" alt="Teacher evaluation scores at UT Austin: With regression line" width="\textwidth" />
<p class="caption">
Figure 6.3: Teacher evaluation scores at UT Austin: With regression line
</p>
</div>
<p>Let’s ignore the grey bars now (which are “error” bars) by adding the argument <code>se=FALSE</code> to <code>geom_smooth</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(evals, <span class="kw">aes</span>(<span class="dt">x=</span>bty_avg, <span class="dt">y=</span>score)) <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Beauty Score&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Teaching Score&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>, <span class="dt">se=</span><span class="ot">FALSE</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:numxplot4"></span>
<img src="ismaykim_files/figure-html/numxplot4-1.png" alt="Teacher evaluation scores at UT Austin: With regression line, no error bars" width="\textwidth" />
<p class="caption">
Figure 6.4: Teacher evaluation scores at UT Austin: With regression line, no error bars
</p>
</div>
</div>
<div id="observed-values-fitted-values-and-residuals" class="section level3">
<h3><span class="header-section-number">6.2.4</span> Observed values, fitted values, and residuals</h3>
<div class="figure" style="text-align: center"><span id="fig:numxplot5"></span>
<img src="ismaykim_files/figure-html/numxplot5-1.png" alt="Teacher evaluation scores at UT Austin: Example of fitted value and residual" width="\textwidth" />
<p class="caption">
Figure 6.5: Teacher evaluation scores at UT Austin: Example of fitted value and residual
</p>
</div>
<ul>
<li>Red point: <em>Observed point</em> <span class="math inline">\((x,y) = (\mbox{beauty score}, \mbox{teaching score}) = (7.333, 4.9)\)</span>. <em>Observed value</em> <span class="math inline">\(y=4.9\)</span></li>
<li>Red square: <em>Fitted point</em> <span class="math inline">\((x,\widehat{y}) = (\mbox{beauty score}, \mbox{fitted teaching score}) = (7.333, 4.369)\)</span>. <em>Fitted value</em> <span class="math inline">\(\widehat{y} = 4.369\)</span>. Why 4.371? From table above: <span class="math inline">\(\widehat{y} = b_0 + b_1 x = 3.880 + 0.067 \times 7.333 = 4.369\)</span></li>
<li>Length of blue arrow: <em>Residual</em> (i.e. error) <span class="math inline">\(y - \widehat{y} = 4.9 - 4.369 = 0.531\)</span></li>
</ul>
<p>Let’s extract point-by-point information now:</p>
<ul>
<li>for all 463 points in our plot, in other words</li>
<li>for all 463 instructors in the study, in other words</li>
<li>for all 463 rows in the <code>evals</code> data frame</li>
</ul>
<p>using the <code>augment()</code> function from the <code>broom</code> package. This function <em>augments</em> the original data by adding new information resulting from the regression. Let’s look at 5 arbitrarily chosen rows. (Note that the first row in the table corresponds to the red points and blue arrow in Figure <a href="6-regression.html#fig:numxplot5">6.5</a>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">point_by_point_info &lt;-<span class="st"> </span><span class="kw">lm</span>(score<span class="op">~</span>bty_avg, <span class="dt">data=</span>evals) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">augment</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(score, bty_avg, .fitted, .resid)</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-148">Table 6.3: </span>Point-by-point information (5 of 463 rows)</caption>
<thead>
<tr class="header">
<th align="right">score</th>
<th align="right">bty_avg</th>
<th align="right">.fitted</th>
<th align="right">.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4.9</td>
<td align="right">7.333</td>
<td align="right">4.369</td>
<td align="right">0.531</td>
</tr>
<tr class="even">
<td align="right">3.6</td>
<td align="right">6.667</td>
<td align="right">4.325</td>
<td align="right">-0.725</td>
</tr>
<tr class="odd">
<td align="right">4.9</td>
<td align="right">3.500</td>
<td align="right">4.114</td>
<td align="right">0.786</td>
</tr>
<tr class="even">
<td align="right">3.3</td>
<td align="right">2.333</td>
<td align="right">4.036</td>
<td align="right">-0.736</td>
</tr>
<tr class="odd">
<td align="right">4.4</td>
<td align="right">4.667</td>
<td align="right">4.191</td>
<td align="right">0.209</td>
</tr>
</tbody>
</table>
<p>The periods in the variable names indicated that they are new information that was added to the original dataset. In particular</p>
<ul>
<li><strong>.fitted</strong>: the fitted value <span class="math inline">\(\widehat{y}\)</span> corresponding to an observed point <span class="math inline">\((x,y)\)</span>. One example is the red square in Figure <a href="6-regression.html#fig:numxplot5">6.5</a></li>
<li><strong>.resid</strong>: the residual <span class="math inline">\(y - \widehat{y}\)</span>. One example is the length of the blue arrow in Figure <a href="6-regression.html#fig:numxplot5">6.5</a>.</li>
</ul>
</div>
<div id="residual_analysis" class="section level3">
<h3><span class="header-section-number">6.2.5</span> Residual analysis</h3>
<p>Recall the residuals can be thought of as “lack-of-fit”, or “left-overs”, or “errors”. Ideally, we want there to be <em>no systematic pattern</em> to the residuals. What does this mean?</p>
<ol style="list-style-type: decimal">
<li>The residuals should be on average 0.</li>
<li>The spread of the residuals should be consistent.</li>
<li>The value of the residuals should not depend on the value of x</li>
</ol>
<p>Let’s look at the residuals two ways. First, recall in Figure <a href="6-regression.html#fig:numxplot5">6.5</a> above we plotted:</p>
<ul>
<li>On the y-axis: <span class="math inline">\(y\)</span> teaching score</li>
<li>On the x-axis: <span class="math inline">\(x\)</span> beauty score</li>
</ul>
<p>Instead, in Figure <a href="6-regression.html#fig:numxplot6">6.6</a> below let’s plot</p>
<ul>
<li>On the y-axis: <span class="math inline">\(y-\widehat{y}\)</span> residual instead</li>
<li>On the x-axis: <span class="math inline">\(x\)</span> beauty score (same as before)</li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:numxplot6"></span>
<img src="ismaykim_files/figure-html/numxplot6-1.png" alt="Plot of residuals over beauty score" width="\textwidth" />
<p class="caption">
Figure 6.6: Plot of residuals over beauty score
</p>
</div>
<p>You can think of Figure <a href="6-regression.html#fig:numxplot6">6.6</a> as Figure <a href="6-regression.html#fig:numxplot5">6.5</a>, but with the blue line flattened out. Does it seem like there is <em>no systematic pattern</em> to the residuals?</p>
<p>Here are some hypothetical examples where there is a systematic pattern to the residuals:</p>
<div class="figure" style="text-align: center"><span id="fig:numxplot7"></span>
<img src="ismaykim_files/figure-html/numxplot7-1.png" alt="Examples of less than ideal residual patterns" width="\textwidth" />
<p class="caption">
Figure 6.7: Examples of less than ideal residual patterns
</p>
</div>
<p>The second way to look at the residuals is using a histogram:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(point_by_point_info, <span class="kw">aes</span>(<span class="dt">x=</span>.resid)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.25</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Residual&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:numxplot8"></span>
<img src="ismaykim_files/figure-html/numxplot8-1.png" alt="Histogram of residuals" width="\textwidth" />
<p class="caption">
Figure 6.8: Histogram of residuals
</p>
</div>
<p>This histogram seems to indicate that we have more positive residuals than negative. Since Residual = <span class="math inline">\(y-\widehat{y} &gt; 0\)</span> when <span class="math inline">\(y &gt; \widehat{y}\)</span>, it seems our fitted professor score from the regression model have a slight tendency of being small than the actually observed score.</p>
<p>This histogram has a slight <em>left-skew</em> in that there is a long tail on the left. Another way to say this is this data exhibit a <em>negative skew</em>. Here are examples of an ideal and less than ideal patterns of residuals.</p>
<div class="figure" style="text-align: center"><span id="fig:numxplot9"></span>
<img src="ismaykim_files/figure-html/numxplot9-1.png" alt="Examples of ideal and less than ideal residual patterns" width="\textwidth" />
<p class="caption">
Figure 6.9: Examples of ideal and less than ideal residual patterns
</p>
</div>
<p>In fact, we’ll see later on that we would like the residuals to be <em>normally distributed</em> with mean 0. In other words, be bell-shaped and centered at 0!</p>
</div>
<div id="best-fitting-lines" class="section level3">
<h3><span class="header-section-number">6.2.6</span> Best fitting lines</h3>
<p>Regression lines are also known as “best fitting lines”. But what do we mean by best? Let’s unpack the criteria that is used by regression to determine best. Recall the plot in Figure <a href="6-regression.html#fig:numxplot5">6.5</a>) where for a professor with a beauty average score of <span class="math inline">\(x=7.333\)</span></p>
<ul>
<li>The observed value <span class="math inline">\(y=4.9\)</span> was marked with a red circle</li>
<li>The fitted value <span class="math inline">\(\widehat{y} = 4.369\)</span> on the regression line was marked with a red square</li>
<li>The residual <span class="math inline">\(y-\widehat{y} = 4.9-4.369 = 0.531\)</span> was the length of the blue arrow.</li>
</ul>
<p>Let’s do this for another arbitrarily chosen professor whose beauty score was <span class="math inline">\(x=2.333\)</span>. The residual in this case is <span class="math inline">\(2.7 - 4.036 = -1.336\)</span>.</p>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-149-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Let’s do this for another arbitrarily chosen professor whose beauty score was <span class="math inline">\(x=3.667\)</span>. The residual in this case is <span class="math inline">\(4.4 - 4.125 = 0.2753\)</span>.</p>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-150-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Let’s do this for another arbitrarily chosen professor whose beauty score was <span class="math inline">\(x=6\)</span>. The residual in this case is <span class="math inline">\(3.8 - 4.28 = -0.4802\)</span>.</p>
<p><img src="ismaykim_files/figure-html/unnamed-chunk-151-1.png" width="\textwidth" style="display: block; margin: auto;" /></p>
<p>Now let’s say we repeated this process for all 463 professors in our dataset. Regression <em>minimizes the sum of all 463 arrow lengths squared.</em> In other words, it minimizes the sum of the squared residuals:</p>
<p><span class="math display">\[
\sum_{i=1}^{n}(y_i - \widehat{y}_i)^2
\]</span></p>
<p>We square the arrow lengths so that positive and negative deviations of the same amount are treated equally. That’s why alternative names for the simple linear regression line are the <strong>least-squares line</strong> and the <strong>best fitting line</strong>. It can be proven via calculus and linear algebra that this line uniquely minimizes the sum of the squared arrow lengths.</p>
<p>For the regression line in the plot, the sum of the squared residuals is 131.868.</p>
</div>
</div>
<div id="one-categorical-x-professor-evaluations" class="section level2">
<h2><span class="header-section-number">6.3</span> One categorical x: Professor evaluations</h2>
<div id="exploratory-data-analysis-1" class="section level3">
<h3><span class="header-section-number">6.3.1</span> Exploratory data analysis</h3>
<p>Let’s load the country-by-country life expectancy <code>gapminder2007</code> data frame that we created in the “Datasets” Section <a href="6-regression.html#datalifeexp">6.1.2</a>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">lifeExp_by_continent &lt;-<span class="st"> </span>gapminder2007 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">median =</span> <span class="kw">median</span>(lifeExp))</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-153">Table 6.4: </span>Life expectancy by continent</caption>
<thead>
<tr class="header">
<th align="left">continent</th>
<th align="right">median</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Africa</td>
<td align="right">52.93</td>
</tr>
<tr class="even">
<td align="left">Americas</td>
<td align="right">72.90</td>
</tr>
<tr class="odd">
<td align="left">Asia</td>
<td align="right">72.40</td>
</tr>
<tr class="even">
<td align="left">Europe</td>
<td align="right">78.61</td>
</tr>
<tr class="odd">
<td align="left">Oceania</td>
<td align="right">80.72</td>
</tr>
</tbody>
</table>
<p>The median life expectancy in Africa in was 52.93. Let’s look at a boxplot of life expectancy and mark the median for Africa in red.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(gapminder2007, <span class="kw">aes</span>(<span class="dt">x=</span>continent, <span class="dt">y=</span>lifeExp)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="fl">52.93</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">size=</span><span class="dv">1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Continent&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Life expectancy (years)&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:catxplot1"></span>
<img src="ismaykim_files/figure-html/catxplot1-1.png" alt="Life expectancy in 2007" width="\textwidth" />
<p class="caption">
Figure 6.10: Life expectancy in 2007
</p>
</div>
<p>Let’s look number of years difference relative to Africa’s median.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(gapminder2007, <span class="kw">aes</span>(<span class="dt">x=</span>continent, <span class="dt">y=</span>lifeExp<span class="op">-</span><span class="fl">52.93</span>)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_hline</span>(<span class="dt">yintercept =</span> <span class="dv">0</span>, <span class="dt">col=</span><span class="st">&quot;red&quot;</span>, <span class="dt">size=</span><span class="dv">1</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Continent&quot;</span>, <span class="dt">y=</span><span class="st">&quot;Difference in life expectancy (years)&quot;</span>)</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:catxplot2"></span>
<img src="ismaykim_files/figure-html/catxplot2-1.png" alt="Difference in life expectancy relative to African median of 52.93 years" width="\textwidth" />
<p class="caption">
Figure 6.11: Difference in life expectancy relative to African median of 52.93 years
</p>
</div>
</div>
<div id="simple-linear-regression-1" class="section level3">
<h3><span class="header-section-number">6.3.2</span> Simple linear regression</h3>
<p>Note that while the boxplots in Figure <a href="6-regression.html#fig:catxplot2">6.11</a>) involved medians, regression involves means. Using the <code>gapminder2007</code> data frame again, let’s compute <em>mean</em> life expectancy instead of median.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminder2007 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(lifeExp))</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-155">Table 6.5: </span>Continent means</caption>
<thead>
<tr class="header">
<th align="left">continent</th>
<th align="right">mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Africa</td>
<td align="right">54.81</td>
</tr>
<tr class="even">
<td align="left">Americas</td>
<td align="right">73.61</td>
</tr>
<tr class="odd">
<td align="left">Asia</td>
<td align="right">70.73</td>
</tr>
<tr class="even">
<td align="left">Europe</td>
<td align="right">77.65</td>
</tr>
<tr class="odd">
<td align="left">Oceania</td>
<td align="right">80.72</td>
</tr>
</tbody>
</table>
<p>Let’s now compute the <em>regression table</em>. Recall:</p>
<ul>
<li><code>lm(lifeExp ~ continent, data=gapminder2007)</code> is a regression where
<ul>
<li><span class="math inline">\(y\)</span> is the numerical outcome variable life expectancy</li>
<li><span class="math inline">\(x\)</span> is the categorical explanatory/predictor variable continent</li>
</ul></li>
<li>We then pipe this into <code>tidy()</code> from the <code>broom</code> package. All this does is output the regression table in a clean format; “tidy data” format as seen in Chapter <a href="4-tidy.html#tidy">4</a> in fact!</li>
<li>You can think of the following two lines of code as a <code>generate_regression_table()</code> function:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lm</span>(lifeExp <span class="op">~</span><span class="st"> </span>continent, <span class="dt">data=</span>gapminder2007) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">tidy</span>()</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-157">Table 6.6: </span>Regression table</caption>
<thead>
<tr class="header">
<th align="left">term</th>
<th align="right">estimate</th>
<th align="right">std.error</th>
<th align="right">statistic</th>
<th align="right">p.value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">(Intercept)</td>
<td align="right">54.81</td>
<td align="right">1.03</td>
<td align="right">53.45</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">continentAmericas</td>
<td align="right">18.80</td>
<td align="right">1.80</td>
<td align="right">10.45</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">continentAsia</td>
<td align="right">15.92</td>
<td align="right">1.65</td>
<td align="right">9.67</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">continentEurope</td>
<td align="right">22.84</td>
<td align="right">1.70</td>
<td align="right">13.47</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">continentOceania</td>
<td align="right">25.91</td>
<td align="right">5.33</td>
<td align="right">4.86</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>What are these values? Recall:</p>
<ul>
<li>Africa is treated as the “baseline for comparison”.
<ul>
<li>The intercept of 54.81 corresponds to the mean life expectancy of Africa.</li>
<li>It was chosen for no other reason than it is first alphabetically. You can manually specify which continent to use as baseline, but we leave that to a more advanced course.</li>
</ul></li>
<li>continentAmericas was created by the regression.
<ul>
<li>It is the additional mean life expectancy of the Americas <em>above and beyond the baseline of comparison which is Africa</em>. Note that 18.80 = 73.61 - 54.81, the difference in mean life expectancies of the Americas and Africa from the table of continent means above.</li>
</ul></li>
<li>Same goes for Asia, Europe, and Oceania</li>
<li>What are std.error, statistic, and p.value? We’ll see this later in the course after we’ve seen statistical inference, but here’s a preview:
<ul>
<li>std.error is the standard error: it quantifies the uncertainy</li>
<li>statistic and p.value: these inform us on the <em>statistical significance</em></li>
</ul></li>
</ul>
<p>To really bring home what the values in the regression table are, let’s subtract the mean life expectancy for Africa of 54.81 from each of the 5 mean life expectancies we computed in the table above and add a new column.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">gapminder2007 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(continent) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(lifeExp)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">compare_to_africa =</span> <span class="kw">round</span>(mean <span class="op">-</span><span class="st"> </span><span class="fl">54.81</span>,<span class="dv">2</span>))</code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-159">Table 6.7: </span>Continent means and comparison of means relative to baseline</caption>
<thead>
<tr class="header">
<th align="left">continent</th>
<th align="right">mean</th>
<th align="right">compared_to_africa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">18.80</td>
</tr>
<tr class="odd">
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">15.92</td>
</tr>
<tr class="even">
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">22.84</td>
</tr>
<tr class="odd">
<td align="left">Oceania</td>
<td align="right">80.72</td>
<td align="right">25.91</td>
</tr>
</tbody>
</table>
</div>
<div id="observed-values-fitted-values-and-residuals-1" class="section level3">
<h3><span class="header-section-number">6.3.3</span> Observed values, fitted values, and residuals</h3>
<p>Let’s extract point-by-point information now:</p>
<ul>
<li>for all 142 points in the five boxplots in Figure <a href="6-regression.html#fig:catxplot2">6.11</a>)</li>
<li>for all 142 countries in our dataset</li>
<li>for all 142 rows in the <code>gapminder2007</code> data frame</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">point_by_point_info &lt;-<span class="st"> </span><span class="kw">lm</span>(lifeExp <span class="op">~</span><span class="st"> </span>continent, <span class="dt">data=</span>gapminder2007) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">augment</span>() <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(lifeExp, continent, .fitted, .resid)</code></pre></div>
<p>Note:</p>
<ul>
<li><code>lm(lifeExp ~ continent, data=gapminder2007)</code> is the regression from earlier</li>
<li>We then pipe this into <code>augment()</code> from the <code>broom</code> package. All this does is output point-by-point information in a clean format; “tidy data” format as seen in Chapter <a href="4-tidy.html#tidy">4</a> in fact!</li>
<li>We then only select the <code>lifeExp</code>, <code>continent</code>, <code>.fitted</code>, and <code>.resid</code> columns. We don’t need the rest, so let’s keep our output clean.</li>
</ul>
<p>Let’s look at a random sample of 5 of these 142 rows:</p>
<table>
<caption><span id="tab:unnamed-chunk-161">Table 6.8: </span>Point-by-point information (5 of 142 rows)</caption>
<thead>
<tr class="header">
<th align="right">lifeExp</th>
<th align="left">continent</th>
<th align="right">.fitted</th>
<th align="right">.resid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">43.83</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-26.900</td>
</tr>
<tr class="even">
<td align="right">76.42</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-1.226</td>
</tr>
<tr class="odd">
<td align="right">72.30</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">17.495</td>
</tr>
<tr class="even">
<td align="right">42.73</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-12.075</td>
</tr>
<tr class="odd">
<td align="right">75.32</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">1.712</td>
</tr>
<tr class="even">
<td align="right">81.23</td>
<td align="left">Oceania</td>
<td align="right">80.72</td>
<td align="right">0.515</td>
</tr>
<tr class="odd">
<td align="right">79.83</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">2.180</td>
</tr>
<tr class="even">
<td align="right">75.64</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">4.907</td>
</tr>
<tr class="odd">
<td align="right">64.06</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-6.666</td>
</tr>
<tr class="even">
<td align="right">79.44</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.792</td>
</tr>
<tr class="odd">
<td align="right">56.73</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">1.922</td>
</tr>
<tr class="even">
<td align="right">65.55</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-8.054</td>
</tr>
<tr class="odd">
<td align="right">74.85</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-2.797</td>
</tr>
<tr class="even">
<td align="right">50.73</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-4.078</td>
</tr>
<tr class="odd">
<td align="right">72.39</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-1.218</td>
</tr>
<tr class="even">
<td align="right">73.00</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-4.644</td>
</tr>
<tr class="odd">
<td align="right">52.30</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-2.511</td>
</tr>
<tr class="even">
<td align="right">49.58</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-5.226</td>
</tr>
<tr class="odd">
<td align="right">59.72</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-11.005</td>
</tr>
<tr class="even">
<td align="right">50.43</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-4.376</td>
</tr>
<tr class="odd">
<td align="right">80.65</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">7.045</td>
</tr>
<tr class="even">
<td align="right">44.74</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-10.065</td>
</tr>
<tr class="odd">
<td align="right">50.65</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-4.155</td>
</tr>
<tr class="even">
<td align="right">78.55</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">4.945</td>
</tr>
<tr class="odd">
<td align="right">72.96</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">2.233</td>
</tr>
<tr class="even">
<td align="right">72.89</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-0.719</td>
</tr>
<tr class="odd">
<td align="right">65.15</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">10.346</td>
</tr>
<tr class="even">
<td align="right">46.46</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-8.344</td>
</tr>
<tr class="odd">
<td align="right">55.32</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">0.516</td>
</tr>
<tr class="even">
<td align="right">78.78</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">5.174</td>
</tr>
<tr class="odd">
<td align="right">48.33</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-6.478</td>
</tr>
<tr class="even">
<td align="right">75.75</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-1.901</td>
</tr>
<tr class="odd">
<td align="right">78.27</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">4.665</td>
</tr>
<tr class="even">
<td align="right">76.49</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-1.163</td>
</tr>
<tr class="odd">
<td align="right">78.33</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">0.683</td>
</tr>
<tr class="even">
<td align="right">54.79</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-0.015</td>
</tr>
<tr class="odd">
<td align="right">72.23</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-1.373</td>
</tr>
<tr class="even">
<td align="right">74.99</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">1.386</td>
</tr>
<tr class="odd">
<td align="right">71.34</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">16.532</td>
</tr>
<tr class="even">
<td align="right">71.88</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-1.730</td>
</tr>
<tr class="odd">
<td align="right">51.58</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-3.227</td>
</tr>
<tr class="even">
<td align="right">58.04</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">3.234</td>
</tr>
<tr class="odd">
<td align="right">52.95</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-1.859</td>
</tr>
<tr class="even">
<td align="right">79.31</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.664</td>
</tr>
<tr class="odd">
<td align="right">80.66</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">3.008</td>
</tr>
<tr class="even">
<td align="right">56.73</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">1.929</td>
</tr>
<tr class="odd">
<td align="right">59.45</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">4.642</td>
</tr>
<tr class="even">
<td align="right">79.41</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.757</td>
</tr>
<tr class="odd">
<td align="right">60.02</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">5.216</td>
</tr>
<tr class="even">
<td align="right">79.48</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.834</td>
</tr>
<tr class="odd">
<td align="right">70.26</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-3.349</td>
</tr>
<tr class="even">
<td align="right">56.01</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">1.201</td>
</tr>
<tr class="odd">
<td align="right">46.39</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-8.418</td>
</tr>
<tr class="even">
<td align="right">60.92</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-12.692</td>
</tr>
<tr class="odd">
<td align="right">70.20</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-3.410</td>
</tr>
<tr class="even">
<td align="right">82.21</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">11.480</td>
</tr>
<tr class="odd">
<td align="right">73.34</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-4.311</td>
</tr>
<tr class="even">
<td align="right">81.76</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">4.108</td>
</tr>
<tr class="odd">
<td align="right">64.70</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-6.030</td>
</tr>
<tr class="even">
<td align="right">70.65</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-0.078</td>
</tr>
<tr class="odd">
<td align="right">70.96</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">0.236</td>
</tr>
<tr class="even">
<td align="right">59.55</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-11.183</td>
</tr>
<tr class="odd">
<td align="right">78.89</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.236</td>
</tr>
<tr class="even">
<td align="right">80.75</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">10.017</td>
</tr>
<tr class="odd">
<td align="right">80.55</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">2.897</td>
</tr>
<tr class="even">
<td align="right">72.57</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-1.041</td>
</tr>
<tr class="odd">
<td align="right">82.60</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">11.875</td>
</tr>
<tr class="even">
<td align="right">72.53</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">1.807</td>
</tr>
<tr class="odd">
<td align="right">54.11</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-0.696</td>
</tr>
<tr class="even">
<td align="right">67.30</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-3.431</td>
</tr>
<tr class="odd">
<td align="right">78.62</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">7.895</td>
</tr>
<tr class="even">
<td align="right">77.59</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">6.860</td>
</tr>
<tr class="odd">
<td align="right">71.99</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">1.265</td>
</tr>
<tr class="even">
<td align="right">42.59</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-12.214</td>
</tr>
<tr class="odd">
<td align="right">45.68</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-9.128</td>
</tr>
<tr class="even">
<td align="right">73.95</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">19.146</td>
</tr>
<tr class="odd">
<td align="right">59.44</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">4.637</td>
</tr>
<tr class="even">
<td align="right">48.30</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-6.503</td>
</tr>
<tr class="odd">
<td align="right">74.24</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">3.513</td>
</tr>
<tr class="even">
<td align="right">54.47</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-0.339</td>
</tr>
<tr class="odd">
<td align="right">64.16</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">9.358</td>
</tr>
<tr class="even">
<td align="right">72.80</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">17.995</td>
</tr>
<tr class="odd">
<td align="right">76.19</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">2.587</td>
</tr>
<tr class="even">
<td align="right">66.80</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-3.925</td>
</tr>
<tr class="odd">
<td align="right">74.54</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-3.106</td>
</tr>
<tr class="even">
<td align="right">71.16</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">16.358</td>
</tr>
<tr class="odd">
<td align="right">42.08</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-12.724</td>
</tr>
<tr class="even">
<td align="right">62.07</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-8.659</td>
</tr>
<tr class="odd">
<td align="right">52.91</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-1.900</td>
</tr>
<tr class="even">
<td align="right">63.78</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-6.943</td>
</tr>
<tr class="odd">
<td align="right">79.76</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">2.113</td>
</tr>
<tr class="even">
<td align="right">80.20</td>
<td align="left">Oceania</td>
<td align="right">80.72</td>
<td align="right">-0.516</td>
</tr>
<tr class="odd">
<td align="right">72.90</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-0.709</td>
</tr>
<tr class="even">
<td align="right">56.87</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">2.061</td>
</tr>
<tr class="odd">
<td align="right">46.86</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-7.947</td>
</tr>
<tr class="even">
<td align="right">80.20</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">2.547</td>
</tr>
<tr class="odd">
<td align="right">75.64</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">4.912</td>
</tr>
<tr class="even">
<td align="right">65.48</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-5.245</td>
</tr>
<tr class="odd">
<td align="right">75.54</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">1.929</td>
</tr>
<tr class="even">
<td align="right">71.75</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-1.856</td>
</tr>
<tr class="odd">
<td align="right">71.42</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-2.187</td>
</tr>
<tr class="even">
<td align="right">71.69</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">0.960</td>
</tr>
<tr class="odd">
<td align="right">75.56</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-2.086</td>
</tr>
<tr class="even">
<td align="right">78.10</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">0.449</td>
</tr>
<tr class="odd">
<td align="right">78.75</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">5.138</td>
</tr>
<tr class="even">
<td align="right">76.44</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">21.636</td>
</tr>
<tr class="odd">
<td align="right">72.48</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-5.173</td>
</tr>
<tr class="even">
<td align="right">46.24</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-8.564</td>
</tr>
<tr class="odd">
<td align="right">65.53</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">10.722</td>
</tr>
<tr class="even">
<td align="right">72.78</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">2.049</td>
</tr>
<tr class="odd">
<td align="right">63.06</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">8.256</td>
</tr>
<tr class="even">
<td align="right">74.00</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-3.647</td>
</tr>
<tr class="odd">
<td align="right">42.57</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-12.238</td>
</tr>
<tr class="even">
<td align="right">79.97</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">9.244</td>
</tr>
<tr class="odd">
<td align="right">74.66</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-2.986</td>
</tr>
<tr class="even">
<td align="right">77.93</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">0.277</td>
</tr>
<tr class="odd">
<td align="right">48.16</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-6.647</td>
</tr>
<tr class="even">
<td align="right">49.34</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-5.467</td>
</tr>
<tr class="odd">
<td align="right">80.94</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">3.292</td>
</tr>
<tr class="even">
<td align="right">72.40</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">1.668</td>
</tr>
<tr class="odd">
<td align="right">58.56</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">3.750</td>
</tr>
<tr class="even">
<td align="right">39.61</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-15.193</td>
</tr>
<tr class="odd">
<td align="right">80.88</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">3.235</td>
</tr>
<tr class="even">
<td align="right">81.70</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">4.052</td>
</tr>
<tr class="odd">
<td align="right">74.14</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">3.415</td>
</tr>
<tr class="even">
<td align="right">78.40</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">7.672</td>
</tr>
<tr class="odd">
<td align="right">52.52</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-2.289</td>
</tr>
<tr class="even">
<td align="right">70.62</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-0.112</td>
</tr>
<tr class="odd">
<td align="right">58.42</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">3.614</td>
</tr>
<tr class="even">
<td align="right">69.82</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">-3.789</td>
</tr>
<tr class="odd">
<td align="right">73.92</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">19.117</td>
</tr>
<tr class="even">
<td align="right">71.78</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">-5.872</td>
</tr>
<tr class="odd">
<td align="right">51.54</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-3.264</td>
</tr>
<tr class="even">
<td align="right">79.42</td>
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">1.776</td>
</tr>
<tr class="odd">
<td align="right">78.24</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">4.634</td>
</tr>
<tr class="even">
<td align="right">76.38</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">2.776</td>
</tr>
<tr class="odd">
<td align="right">73.75</td>
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">0.139</td>
</tr>
<tr class="even">
<td align="right">74.25</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">3.521</td>
</tr>
<tr class="odd">
<td align="right">73.42</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">2.694</td>
</tr>
<tr class="even">
<td align="right">62.70</td>
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">-8.030</td>
</tr>
<tr class="odd">
<td align="right">42.38</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-12.422</td>
</tr>
<tr class="even">
<td align="right">43.49</td>
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">-11.319</td>
</tr>
</tbody>
</table>
</div>
<div id="residual-analysis" class="section level3">
<h3><span class="header-section-number">6.3.4</span> Residual analysis</h3>
<p>Recall our discussion on residuals from Section @ref(residual_analysis). Let’s repeat this.</p>

</div>
</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="5-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="A-appendixA.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ismayc/moderndiver-book/edit/master/06-regression.Rmd",
"text": "Edit"
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
