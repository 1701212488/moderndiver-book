--- 
title: "ModernDive"
subtitle: "An Introduction to Statistical and Data Sciences via R"
author: "Chester Ismay and Albert Y. Kim"
date: "`r format(Sys.time(), '%B %d, %Y')`"
site: bookdown::bookdown_site
documentclass: book
bibliography: [bib/books.bib, bib/packages.bib, bib/articles.bib]
biblio-style: apalike
link-citations: yes
github-repo: ismayc/moderndiver-book
description: "Combining statistical and computational thinking to make sense of data. An evolution of the traditional introductory statistics curriculum, more focused on reproducible research, data visualization, and modern data analysis techniques and tools including resampling and bootstrapping using R, RStudio, and R Markdown"
---


```{r set-options, include=FALSE}
options(width = 72, digits = 4)
knitr::opts_chunk$set(tidy = FALSE, out.width='\\textwidth', 
                      fig.align = "center")
version <- "0.1.3"
```

# Introduction {#intro}

## Help!

<img src="https://cran.r-project.org/Rlogo.svg" alt="Drawing" style="height: 150px;"/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img src="https://www.rstudio.com/wp-content/uploads/2014/07/RStudio-Logo-Blue-Gradient.png" alt="Drawing" style="height: 150px;"/>

"I’m new to R and RStudio and I need to learn about them! However I'm completely new to coding! What do I do?" If you're asking yourself this question, then you've come to the right place.

* *Are you an instructor hoping to use this book for your class? Then click here for more information on how to teach with this book.*
* *Are you looking to connect and contribute? The click here for information on our [mailing list](http://moderndive.us15.list-manage2.com/subscribe?u=87888fab720da90906427a5be&id=0c9e2d1df2), our [GitHub repository](https://github.com/ismayc/moderndiver-book), and links.*
* *Are you curious about the technology involved in the publishing of this book? Then click here for more information on the open-source and reproducible tools used, in particular [R Markdown](http://rmarkdown.rstudio.com/html_document_format.html) and RStudio's [bookdown](https://bookdown.org/) package.*




## Introduction for Students

Mona Chabili.

### Getting Started with R and RStudio


This book is inspired by three books:

- "Mathematical Statistics with Resampling and R" [@hester2011],
- "Intro Stat with Randomization and Simulation" [@isrs2014], and 
- "R for Data Science" [@rds2016].

The first book, while designed for upper-level undergraduates and graduate students, provides an excellent resource on how to use resampling to build statistical concepts like normal distributions using computers instead of focusing on memorization of formulas.  The last two books also provide a path towards free alternatives to the traditionally expensive introductory statistics textbook.  When looking over the vast number of introductory statistics textbooks, we found that there wasn't one that incorporated many of the new R packages directly into the text.  Additionally, there wasn't an open-source, free textbook available that showed new learners all of the following

1. how to use R to explore and visualize data
2. how to use randomization and simulation to build inferential ideas
3. how to effectively create stories using these ideas to convey information to a lay audience.

We will introduce sometimes difficult statistics concepts through the medium of data visualization.  In today's world, we are bombarded with graphics that attempt to convey ideas.  We will explore what makes a good graphic and what the standard ways are to convey relationships with data.  You'll also see the use of visualization to introduce concepts like mean, median, standard deviation, distributions, etc.  In general, we'll use visualization as a way of building almost all of the ideas in this book.

Additionally, this book will focus on the triad of computational thinking, data thinking, and inferential thinking.  We'll see throughout the book how these three modes of thinking can build effective ways to work with, to describe, and to convey statistical knowledge.  In order to do so, you'll see the importance of literate programming to develop literate data science.  In other words, you'll see how to write code and descriptions that are useful not just for a computer to execute but also for readers to understand exactly what a statistical analysis is doing and how it works.  Hal Abelson coined the phrase that we will follow throughout this book:

> "Programs must be written for people to read, and only incidentally for machines to execute."

### Three driving data sources

Instead of hopping from one data set to the next in the text of this book, we've decided to focus throughout on three different data sources:  

- flights leaving New York City in 2013
- profiles of OKCupid users in San Francisco
- IMDB movie ratings

By focusing on just three large data sources, it is our hope that you'll be able to see how each of the chapters is interconnected.  You'll see how the data being tidy leads into data visualization and manipulation in exploratory data analysis and how those concepts tie into inference and regression.

### Data/science pipeline

You may think of statistics as just being a bunch of numbers.  We commonly hear the phrase "statistician" when listening to broadcasts of sporting events.  Statistics (in particular, data analysis), in addition to describing numbers like with baseball batting averages, plays a vital role in all of the sciences.  You'll commonly hear the phrase "statistically significant" thrown around in the media.  You'll see things that say "Science now shows that chocolate is good for you."  Underpinning these claims is data analysis.  By the end of this book, you'll be able to better understand whether these claims should be trusted or whether we should be wary.  Inside data analysis are many sub-fields that we will discuss throughout this book (not necessarily in this order):

- data collection
- data manipulation
- data visualization
- data modeling
- inference
- correlation and regression
- interpretation of results
- data storytelling

This can be summarized in a graphic that is commonly used by Hadley Wickham:

```{r echo=FALSE, fig.align='center', fig.cap="Hadley's workflow graphic"}
knitr::include_graphics("images/tidy1.png")
```

We will begin with a discussion on what is meant by tidy data and then dig into the gray **Understand** portion of the cycle and conclude by talking about interpreting and discussing the results of our models via **Communication**.  These steps are vital to any statistical analysis.  But why should you care about statistics?  "Why did they make me take this class?"

There's a reason so many fields require a statistics course.  Scientific knowledge grows through an understanding of statistical significance and data analysis.  You needn't be intimidated by statistics.  It's not the beast that it used to be and, paired with computation, you'll see how reproducible research in the sciences particularly increases scientific knowledge.

### Reproducibility

> "The most important tool is the _mindset_, when starting, that the end product will be reproducible." – Keith Baggerly

Another large goal of this book is to help readers understand the importance of reproducible analyses. The hope is to get readers into the habit of making their analyses reproducible from the very beginning.  This means we'll be trying to help you build new habits.  This will take practice and be difficult at times. You'll see just why it is so important for you to keep track of your code and well-document it to help yourself later and any potential collaborators as well.  

Copying and pasting results from one program into a word processor is not the way that efficient and effective scientific research is conducted.  It's much more important for time to be spent on data collection and data analysis and not on copying and pasting plots back and forth across a variety of programs.

In a traditional analyses if an error was made with the original data, we'd need to step through the entire process again:  recreate the plots and copy and paste all of the new plots and our statistical analysis into your document.  This is error prone and a frustrating use of time.  We'll see how to use R Markdown to get away from this tedious activity so that we can spend more time doing science.

> "We are talking about _computational_ reproducibility." - Yihui Xie

Reproducibility means a lot of things in terms of different scientific fields.  Are experiments conducted in a way that another researcher could follow the steps and get similar results?  In this book, we will focus on what is known as **computational reproducibility**.  This refers to being able to pass all of one's data analysis, data sets, and conclusions to someone else and have them get exactly the same results on their machine.  This allows for time to be spent doing actual science and interpreting of results and assumptions instead of the more error prone way of starting from scratch or following a list of steps that may be different from machine to machine.

### Who is this book for?

This book is targeted at students taking a traditional intro stats class in a small college environment using RStudio and preferably RStudio Server. We assume no prerequisites: no algebra, no calculus, and no prior programming experience.  This is intended to be a gentle and nice introduction to the practice of statistics in terms of how data scientists, statisticians, data journalists, and other scientists analyze data and write stories about data.  We have intentionally avoided the use of throwing formulas at you as much as possible and instead have focused on developing statistical concepts via data visualization and statistical computing.  We hope this is a more intuitive experience than the way statistics has traditionally been taught in the past (and how it is commonly perceived from the outside).  We additionally hope that you see the value of reproducible research via R as you continue in your studies.  We understand that there will initially be growing pains in learning to program but we are here to help you and you should know that there is a huge community of R users that are always happy to help newbies along as well.

Now let's get into learning about how to create good stories about and with data!





## Introduction for Instructors

These are some principles we keep in mind. If you agree with them, this might be the book for you.

1. **Blur the lines between lecture and lab**
    + Laptops and open source software are rendering the lab/lecture dichotomy ever more archaic.
    + It's much harder for students to understand the importance of using the software if they only use it once a week or less.  They forget the syntax in much the same way someone learning a foreign language forgets the rules.
1. **Focus on the entire data/science research pipeline**
    + Grolemund and Wickham's [graphic](http://r4ds.had.co.nz/introduction.html)
    + George Cobb argued for ["Minimizing prerequisites to research"](https://arxiv.org/abs/1507.05346)
1. **It's all about data, data, data**
    + We leverage R packages for rich/complex, yet easy-to-load data sets.
    + We've heard it before: "You can't teach `ggplot2` for data visualization in intro stats!" We, like [David Robinson](http://varianceexplained.org/r/teach_ggplot2_to_beginners/), are more optimistic and we've had success doing so.
    + `dplyr` is a [game changer](http://chance.amstat.org/2015/04/setting-the-stage/) for data manipulation: the verb describing your desired data action *is* the command name!
1. **Use simulation/resampling for intro stats, not probability/large sample approximation**
    + Reinforce concepts, not equations, formulas, and probability tables.
    + To this end, we're big fans of the [`mosaic`](https://github.com/ProjectMOSAIC/mosaic) package's `shuffle()`, `resample()`, and `do()` functions for sampling and simulation.
1. **Don’t fence off students from the computation pool, throw them in!**
    + Don't teach them coding/programming per se, but computational and algorithmic thinking.
    + Drawing Venn diagrams delineating statistics, computer science, and data science is also ever more archaic; embrace computation!
1. **Complete reproducibility**
    + We find it frustrating when textbooks give examples but not the source code and the data itself. We not only give you the source code for all examples, but also the source code for the whole book!
    + We encourage use of R Markdown to foster notions of reproducible research.
    + **Ultimately the best textbook is one you’ve written yourself**
        - You best know your audience, their background, and their priorities and you know best your own style and the types of examples and problems you like best. Customizability is the ultimate end.
        - A new paradigm for textbooks? Versions, not editions? Pull requests, crowd-sourcing, and development versions?




## Connect and Contribute

Ways to connect: 

* If you would like to receive period updates about ModernDive (roughtly every 3 months), please sign up on our [mailing list](http://eepurl.com/cBkItf).
* We're on Twitter at [ModernDive](https://twitter.com/ModernDive)!
* Contact Albert at [albert@moderndive.com](mailto:albert@moderndive.com) and Chester [chester@moderndive.com](mailto:chester@moderndive.com)

Ways to contribute: 

* The source code that created ModernDive is available on [GitHub](https://github.com/ismayc/moderndiver-book). See the next section for more technical details.
* Please let us know of any issues or bugs on our [issues page](https://github.com/ismayc/moderndiver-book/issues).
* Feel free to modify the book as you wish for your own needs, but please list the authors above as "Chester Ismay, Albert Y. Kim, and YOU!"





## The Technology

This book was written using the **bookdown** R package from Yihui Xie [@R-bookdown].  In order to follow along and run the code in this book on your own, you'll need to have access to R and RStudio.  You can find more information on both of these with a simple Google search for "R" and for "RStudio."  An introduction to using R, RStudio, and R Markdown is also available in a free book [here](http://ismayc.github.io/rbasics-book) [@usedtor2016].  It is recommended that you refer back to this book frequently as it has GIF screen recordings that you can follow along with as you learn.

We will keep a running list of R packages you will need to have installed to complete the analysis as well here in the `needed_pkgs` character vector.  You can check if you have all of the needed packages installed by running all of the lines below in the next chunk of R code.  The last lines including the `if` will install them as needed (i.e., download their needed files from the internet to your hard drive and install them for your use).

You can run the `library` function on them to load them into your current analysis.  Prior to each analysis where a package is needed, you will see the corresponding `library` function in the text.  Make sure to check the top of the chapter to see if a package was loaded there.

```{r pkg_setup, warning=FALSE, message=FALSE, results='hide'}
needed_pkgs <- c("nycflights13", "tibble", "dplyr", "ggplot2", "knitr", 
  "okcupiddata", "dygraphs", "rmarkdown", "mosaic", 
  "ggplot2movies", "fivethirtyeight", "readr")

new.pkgs <- needed_pkgs[!(needed_pkgs %in% installed.packages())]

if(length(new.pkgs)) {
  install.packages(new.pkgs, repos = "http://cran.rstudio.com")
}
```

```{r include=FALSE}
# Packages are needed to create the book, not for following
# the code in the book
needed_pkgs2 <- c("devtools", "webshot", "tufte", "mvtnorm")
new.pkgs2 <- needed_pkgs2[!(needed_pkgs2 %in% installed.packages())]

if(length(new.pkgs2)) {
  install.packages(new.pkgs2, repos = "http://cran.rstudio.com")
}
# Check that phantomjs is installed
if(is.null(webshot:::find_phantom()))
  webshot::install_phantomjs()
```



```{r include=FALSE}
# automatically create a bib database for R packages
knitr::write_bib(c(
  .packages(), 'bookdown', 'knitr', 'rmarkdown', 
  'nycflights13', 'devtools', 'ggplot2', 'webshot', 
  'dygraphs', 'tufte', 'okcupiddata', 'mosaic',
   'dplyr', 'ggplot2movies', 'fivethirtyeight', 'tibble', 'readr'
), 'bib/packages.bib')
```




### Version Information

If you click on the **release** link near the top of the page there, you can download all of the source code for whichever release version you'd like to work with and use.  If you find typos or other errors or have suggestions on how to better word something in the book, please create a pull request too!  We also welcome issue creation.  Let's all work together to make this book as great as possible for as many students and instructors as possible.

Colophon 

As of `r format(Sys.time(), "%Y-%m-%d")`, ModernDive is at Version `r version`. This book is written using the CC0 1.0 Universal License; more information on this licence is available [here](https://creativecommons.org/publicdomain/zero/1.0/).

The source of the book is available [here](https://github.com/ismayc/moderndiver-book) and was built with versions of R packages (and their dependent packages) given below.  This may not be of importance for initial readers of this book, but the hope is you can reproduce a duplicate of this book by installing these versions of the packages.

```{r colophon, echo=FALSE}
knitr::kable(devtools::session_info(needed_pkgs)$packages, 
             booktabs = TRUE,
             longtable = TRUE)
```

Book was last updated `r paste("by", Sys.info()[["user"]], "on", format(Sys.time(), "%A, %B %d, %Y %X %Z"))`.
